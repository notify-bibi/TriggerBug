jQuery.support.cors=true;var data_js="";var perf_js="";var intrinsics=new Array();var allothertechs=new Array();var allcats=new Array();var show;var shown=0;var showbuffer;var window_height;var matches=0;var techs=new Array();var othertechs=new Array();var avx512techs=new Array();var cats=new Array();var search_text="";var highlighted_token=null;var intrin_height=26;var expand=new Array();var delay_timeout=null;function delay(a,b){if(delay_timeout){clearTimeout(delay_timeout)}delay_timeout=setTimeout(function(){delay_timeout=null;if(a){a.apply(this)}},b)}function searchIntrinsic(e){var b=false;if(techs.length){if($.inArray(e.tech,techs)!=-1||(e.alsoKNC&&$.inArray("KNC",techs)!=-1)){b=true}}if(othertechs.length&&e.tech=="Other"){for(var c=0;c<othertechs.length;c++){if($.inArray(othertechs[c],e.cpuids)!=-1){b=true}}}if(avx512techs.length&&e.tech=="AVX_512"){for(var c=0;c<avx512techs.length;c++){if($.inArray(avx512techs[c],e.cpuids)!=-1){b=true}}if($.inArray("AVX512VL",avx512techs)==-1){if($.inArray("AVX512VL",e.cpuids)!=-1){b=false}}}if(techs.length>0||othertechs.length>0||avx512techs.length>0){if(!b){return false}}if(cats.length){var f=false;for(var c=0;c<cats.length;c++){if($.inArray(cats[c],e.categories)!=-1){f=true}}if(!f){return false}}if(search_text.length!=0){var a=search_text.split("*");var d=0;var g=0;for(var c=0;c<a.length;c++){g=e._text.indexOf(a[c],d);if(g<0){return false}d=g}}return true}function search(){$("#intrinsics_list").css("min-height","");var b="";search_text=search_text.toLowerCase();if(techs.length==0&&othertechs.length==0&&avx512techs.length==0&&cats.length==0&&search_text.length==0){matches=intrinsics.length;shown=0;var a=0;for(var c=0;c<intrinsics.length;c++){var d=intrinsics[c];a++;d.match=true;if(a<show){shown++;d.shown=true;d.newlyshown=true;b+=d._html}else{d.shown=false}}}else{matches=0;shown=0;var a=0;for(var c=0;c<intrinsics.length;c++){var d=intrinsics[c];if(searchIntrinsic(d)){a++;d.match=true;matches++;if(a<show){shown++;d.shown=true;d.newlyshown=true;b+=d._html}else{d.shown=false}}else{d.match=false;d.shown=false}}}document.getElementById("intrinsics_list").innerHTML=b;postProcessHTML();$("#intrinsics_list").css("min-height",(matches*intrin_height)+"px")}function updateHash(h,d){var f="";var j=false;if(window.location.hash!=""){var c=window.location.hash.replace("#","").split("&");for(var g=0;g<c.length;g++){var b=c[g].split("=");var a=b[0];var e=b[1];if(a==h){e=d;j=true}if(e!=""){if(f!=""){f+="&"}f+=a+"="+encodeURIComponent(e)}}}if(!j&&d!=""){if(f!=""){f+="&"}f+=h+"="+encodeURIComponent(d)}f=f.replace(/%2C/g,",");window.location.hash=f}function getHash(d){var b=window.location.hash.replace("#","").split("&");for(var c=0;c<b.length;c++){var a=b[c].split("=");var e=a[0];var f=a[1];if(e==d){return decodeURIComponent(f)}}return""}function parseTechs(a){if(a){if($(a).parent().hasClass("othertech")){$("#techs").find(".Other").find("input").prop("checked",false)}if($(a).parent().hasClass("Other")){$(".othertech").find("input").each(function(){$(this).prop("checked",false)})}if($(a).parent().hasClass("avx512tech")){$("#techs").find(".AVX_512").find("input").prop("checked",false)}if($(a).parent().hasClass("AVX_512")){$(".avx512tech").find("input").each(function(){$(this).prop("checked",false)})}}techs.length=0;techs=new Array();$(".tech").find("input").each(function(){if($(this).is(":checked")){var b=$(this).parent().attr("class").replace("tech","").replace(" ","");techs.push(b)}});othertechs.length=0;othertechs=new Array();$(".othertech").find("input").each(function(){if($(this).is(":checked")){var b=$(this).parent().attr("class").replace("othertech","").replace(" ","");othertechs.push(b)}});if(othertechs.length!=0){$(".Other").find("input").prop("indeterminate",true)}else{$(".Other").find("input").prop("indeterminate",false)}avx512techs.length=0;avx512techs=new Array();$(".avx512tech").find("input").each(function(){if($(this).is(":checked")){var b=$(this).parent().attr("class").replace("avx512tech","").replace(" ","");avx512techs.push(b)}});if(avx512techs.length!=0){$(".AVX_512").find("input").prop("indeterminate",true)}else{$(".AVX_512").find("input").prop("indeterminate",false)}updateHash("techs",techs.join(","));updateHash("othertechs",othertechs.join(","));updateHash("avx512techs",avx512techs.join(","));search()}function parseCategories(){cats.length=0;cats=new Array();$(".category").find("input").each(function(){if($(this).is(":checked")){var a=$(this).parent().find("span").html();cats.push(a)}});updateHash("cats",cats.join(","));search()}$("#search").focus(function(){var a=$("#search").val();if(a=="_mm_search"){$("#search").css("color","#000000").val("")}});$("#search").blur(function(){var a=$("#search").val();if(a==""){$("#search").css("color","#aaaaaa").val("_mm_search")}});$("#search").on("input",function(){search_text=$("#search").val();updateHash("text",search_text);if(search_text!=""){$("#clear").show();delay(search(),50)}else{$("#clear").hide();search()}});$("#clear").click(function(){search_text="";$("#search").css("color","#aaaaaa").val("_mm_search");$("#clear").hide();var b=$("#search").width();var c=parseInt($("#search").css("padding-left").replace("px",""));var a=8;$("#search").css("padding-left",a+"px");$("#search").width(b-(a-c));updateHash("text","");search()});$(".tech").find("input").click(function(){parseTechs(this)});$(".avx512tech").find("input").click(function(){parseTechs(this)});var othershow_timeout=null;var otherhover_timeout=null;$("#other_techs").hover(function(){if(otherhover_timeout){clearTimeout(otherhover_timeout)}},function(){otherhover_timeout=setTimeout(function(){$("#other_techs").slideUp(200);otherhover_timeout=null},300)});$("#techs").find(".Other").hover(function(){if(otherhover_timeout){clearTimeout(otherhover_timeout)}othershow_timeout=setTimeout(function(){$("#other_techs").slideDown(200);othershow_timeout=null},300)},function(){if(othershow_timeout){clearTimeout(othershow_timeout)}otherhover_timeout=setTimeout(function(){$("#other_techs").slideUp(200);otherhover_timeout=null},300)});var avx512show_timeout=null;var avx512hover_timeout=null;$("#avx512_techs").hover(function(){if(avx512hover_timeout){clearTimeout(avx512hover_timeout)}},function(){avx512hover_timeout=setTimeout(function(){$("#avx512_techs").slideUp(200);avx512hover_timeout=null},300)});$("#techs").find(".AVX_512").hover(function(){if(avx512hover_timeout){clearTimeout(avx512hover_timeout)}avx512show_timeout=setTimeout(function(){$("#avx512_techs").slideDown(200);avx512hover_timeout=null},300)},function(){if(avx512show_timeout){clearTimeout(avx512show_timeout)}avx512hover_timeout=setTimeout(function(){$("#avx512_techs").slideUp(200);avx512hover_timeout=null},300)});var popbox_timeout=null;$(".popbox").hover(function(){if(popbox_timeout){clearTimeout(popbox_timeout)}},function(){popbox_timeout=setTimeout(function(){$(".popbox").hide();popbox_timeout=null},300)});function noteOver(){$(".popbox").hide();if(popbox_timeout){clearTimeout(popbox_timeout)}var f=$(this);var b=$(".popbox."+f.attr("note-type"));var g=f.offset();var d=g.top+f.height()+5;var c=g.left+(f.width()/2)-(b.width()/2);b.css({top:d+"px",left:c+"px"}).show();var a=f.text().replace("(v)","");$(".base").html(a)}function noteOut(){popbox_timeout=setTimeout(function(){$(".popbox").hide();popbox_timeout=null},300)}function postProcessHTML(){for(var a=0;a<intrinsics.length;a++){var b=intrinsics[a];if(b.newlyshown){b.newlyshown=false;b.elem=$("#"+b.id);b.elem.find(".signature").click(function(){var e=$(this).parent();var d=e.find(".details");if(d.css("display")=="none"){d.slideDown(200);e.find(".instruction_note").on("mouseover",noteOver);e.find(".instruction_note").on("mouseout",noteOut);expand.push(e.attr("id"));updateHash("expand",expand.join(","))}else{d.slideUp(200);e.find(".instruction_note").off("mouseenter mouseout");var c=expand.indexOf(e.attr("id"));if(c>-1){expand.splice(c,1)}updateHash("expand",expand.join(","))}})}}}function windowScroll(){if($(".intrinsic").length){var f=$(window).scrollTop();var e=$(".intrinsic").last().offset().top;if(f+window_height+showbuffer>e){var a=0;var b="";var c=Math.ceil((f+window_height+showbuffer-e)/intrin_height)+3;$("#intrinsics_list").css("min-height",(matches*intrin_height)+"px");for(var d=0;d<intrinsics.length&&a<c;d++){var g=intrinsics[d];if(g.match&&!g.shown){a++;shown++;g.shown=true;g.newlyshown=true;b+=g._html}}$("#intrinsics_list").append(b);delay(postProcessHTML(),100)}}}$(window).scroll(windowScroll);function windowSize(){window_height=$(window).height();var a=Math.ceil(window_height/intrin_height);show=a*2;showbuffer=a*intrin_height}$(window).resize(function(){windowSize();windowScroll()});function initialPass(a){$(a).find("intrinsic").each(function(){var c=$(this);var b=c.attr("name").toLowerCase();var d;if(b.indexOf("_mm")>=0||b.indexOf("_m_")>=0){d=b.substring(b.indexOf("_",1)+1);if(d.indexOf("mask_")==0||d.indexOf("maskz_")==0||d.indexOf("mask2_")==0||d.indexOf("mask3_")==0||d.indexOf("mmask_")==0){d=d.substring(d.indexOf("_",1)+1)}}else{d=b.substring(b.indexOf("_")+1);if(d.charAt(0)=="_"){d=d.substring(b.indexOf("_")+1)}}c.base=d;intrinsics.push(c)});intrinsics.sort(function(d,c){var e=d.base.localeCompare(c.base);if(e==0){e=d.attr("name").localeCompare(c.attr("name"))}return e})}function renderPass(){var f=getHash("showall")!="";if(f){show=intrinsics.length}var h="";for(x=0;x<intrinsics.length;x++){$intrinsic=intrinsics[x];$intrinsic.header=$intrinsic.find("header").text();var y=$intrinsic.attr("name");var q=$intrinsic.find("instruction");$intrinsic.alsoKNC=false;$intrinsic.tech=$intrinsic.attr("tech").replace(".","_").replace("-","_").replace(" ","_");if($intrinsic.tech.indexOf("/KNC")>=0){$intrinsic.tech=$intrinsic.tech.replace("/KNC","");$intrinsic.alsoKNC=true}$intrinsic.categories=new Array();$intrinsic.find("category").each(function(){var i=$(this).text();$intrinsic.categories.push(i);if($.inArray(i,allcats)==-1){allcats.push(i)}});var d="";$intrinsic.cpuids=new Array();$intrinsic.find("CPUID").each(function(){var t=$(this).text();$intrinsic.cpuids.push(t.replace(".","_").replace("-","_").replace(" ","_").replace("/KNCNI",""));if($intrinsic.tech=="Other"){if(t!="AVX512F"&&t!="AVX512VL"){if($.inArray(t,allothertechs)==-1){allothertechs.push(t)}}}if(t.indexOf("/")>=0){var l=t.split("/");var j=$intrinsic.attr("tech").split("/");t="";for(var k=0;k<l.length;k++){if(t!=""){t+=", "}t+="<span class='cpuid'>"+l[k]+"</span> for "+j[k]}if(d!=""){d+=", "}d+=t}else{if(d!=""){d+=" + "}d+="<span class='cpuid'>"+t+"</span>"}});$intrinsic.cpuid=d;var p="<span class='sig'><span class='rettype'>"+$intrinsic.attr("rettype")+"</span> <span class='name'>"+y+"</span> (";var w=0;$intrinsic.find("parameter").each(function(){var j=$(this);if(w>0){p+=", "}p+="<span class='param_type'>"+j.attr("type")+"</span>";var i=j.attr("varname");if(i){p+=" <span class='param_name'>"+i+"</span>"}w++});p+=")</span>";$intrinsic.signature=p;var v=$intrinsic.find("description").first().text();if(v.indexOf("_note]")>0){v=v.replace(/\[round_note\]/g,"<br />Rounding is done according to the \"rounding\" parameter, which can be one of:<div class='desc_note'>    (_MM_FROUND_TO_NEAREST_INT |_MM_FROUND_NO_EXC) // round to nearest, and suppress exceptions\n    (_MM_FROUND_TO_NEG_INF |_MM_FROUND_NO_EXC)     // round down, and suppress exceptions\n    (_MM_FROUND_TO_POS_INF |_MM_FROUND_NO_EXC)     // round up, and suppress exceptions\n    (_MM_FROUND_TO_ZERO |_MM_FROUND_NO_EXC)        // truncate, and suppress exceptions\n    _MM_FROUND_CUR_DIRECTION // use MXCSR.RC; see _MM_SET_ROUNDING_MODE</div>").replace(/\[strcmp_note\]/g,"<br />\"imm\" can be a combination of:<div class='desc_note'>    _SIDD_UBYTE_OPS                // unsigned 8-bit characters\n    _SIDD_UWORD_OPS                // unsigned 16-bit characters\n    _SIDD_SBYTE_OPS                // signed 8-bit characters\n    _SIDD_SWORD_OPS                // signed 16-bit characters\n    _SIDD_CMP_EQUAL_ANY            // compare equal any\n    _SIDD_CMP_RANGES               // compare ranges\n    _SIDD_CMP_EQUAL_EACH           // compare equal each\n    _SIDD_CMP_EQUAL_ORDERED        // compare equal ordered\n    _SIDD_NEGATIVE_POLARITY        // negate results\n    _SIDD_MASKED_NEGATIVE_POLARITY // negate results only before end of string\n    _SIDD_LEAST_SIGNIFICANT        // index only: return last significant bit\n    _SIDD_MOST_SIGNIFICANT         // index only: return most significant bit\n    _SIDD_BIT_MASK                 // mask only: return bit mask\n    _SIDD_UNIT_MASK                // mask only: return byte/word mask</div>").replace(/\[getmant_note\]/g,"<br />The mantissa is normalized to the interval specified by \"interv\", which can take the following values:<div class='desc_note'>    _MM_MANT_NORM_1_2     // interval [1, 2)\n    _MM_MANT_NORM_p5_2    // interval [0.5, 2)\n    _MM_MANT_NORM_p5_1    // interval [0.5, 1)\n    _MM_MANT_NORM_p75_1p5 // interval [0.75, 1.5)</div>The sign is determined by \"sc\" which can take the following values:<div class='desc_note'>    _MM_MANT_SIGN_src     // sign = sign(src)\n    _MM_MANT_SIGN_zero    // sign = 0\n    _MM_MANT_SIGN_nan     // dst = NaN if sign(src) = 1</div>").replace(/\[fpclass_note\]/g,"<br />\"imm\" can be a combination of:<div class='desc_note'>    0x01 // QNaN\n    0x02 // Positive Zero\n    0x04 // Negative Zero\n    0x08 // Positive Infinity\n    0x10 // Negative Infinity\n    0x20 // Denormal\n    0x40 // Negative\n    0x80 // SNaN</div>")}v=v.replace(/\"([^\"]+)\"/g,"<span class='desc_var $1'>$1</span>");$intrinsic.description=v;var m="";var b=$intrinsic.find("operation");if(b){m=$.trim(b.last().text()).replace(/\\\n/g,"\n")}$intrinsic.instructions=new Array();var A="";q.each(function(){if(A!=""){A+=", "}A+=$(this).attr("name").toLowerCase();var i={name:$(this).attr("name").toLowerCase(),form:$(this).attr("form")};$intrinsic.instructions.push(i)});var e=A;var a="";if($intrinsic.attr("sequence")){A="Sequence";e="...";a="sequence"}$intrinsic.instruction=e;$intrinsic.id=x;var c="<div class='intrinsic "+$intrinsic.tech+"' id='"+$intrinsic.id+"'>";if($intrinsic.alsoKNC){c+="<div class='alsoKNC'></div>"}if(e!=""){c+="<div class='instruction'>"+e+"</div>"}c+="<div class='signature'>"+p+"</div><div class='details'><h1>Synopsis</h1><div class='synopsis'>"+p+"<br />#include &lt;"+$intrinsic.header+"&gt;<br />";if(q.length>0){c+="Instruction: ";var o=0;q.each(function(){if(o>0){c+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"}if(a!=""){c+="<span class='instruction_note' note-type='"+a+"'>"+$(this).attr("name").toLowerCase()+"</span>"}else{c+=$(this).attr("name").toLowerCase()}if($(this).attr("form")){c+=" "+$(this).attr("form")}c+="<br />";o++})}if(d){c+="CPUID Flags: "+d}c+="</div><h1>Description</h1><div class='description'>"+v+"</div>";if(m!=""){c+="<h1>Operation</h1><div class='operation'>"+m+"</div>"}var C=null;for(var w=0;w<$intrinsic.cpuids.length;w++){var d=$intrinsic.cpuids[w].toUpperCase();if(perf_js[d]){var z=perf_js[d];for(var s=0;s<$intrinsic.instructions.length;s++){var g=$intrinsic.instructions[s];if(z[g.name.toUpperCase()]){var u=z[g.name.toUpperCase()];if(u[""]){C=u[""]}else{if(u[g.form]){C=u[g.form]}}}}}}if(C){c+="<br /><h1>Performance</h1><table class='performance'><tr><th>Architecture</th><th>Latency</th><th>Throughput (CPI)</th></tr>";for(var w=0;w<C.length;w++){for(var B in C[w]){var r=C[w][B].l;var n=C[w][B].t;if(!r){r="-"}if(!n){n="-"}c+="<tr><td>"+B+"</td><td>"+r+"</td><td>"+n+"</td></tr>"}}c+="</table>"}c+="</div></div>";$intrinsic._html=c;$intrinsic.match=true;$intrinsic.shown=false;$intrinsic.newlyshown=false;if(x<show){h+=c;$intrinsic.shown=true;$intrinsic.newlyshown=true;shown++}}matches=intrinsics.length;document.getElementById("intrinsics_list").innerHTML=h;postProcessHTML();$("#intrinsics_list").css("min-height",($("#intrinsics_list").height()+(matches-shown)*intrin_height)+"px");allothertechs.sort();for(var x=0;x<allothertechs.length;x++){$("#other_techs").append("<div class='"+allothertechs[x].replace(".","_").replace("-","_").replace(" ","_")+" othertech'><input type='checkbox' /> "+allothertechs[x]+"</div>")}allcats.sort();for(var x=0;x<allcats.length;x++){$("#categories").append("<div class='category'><input type='checkbox' /> <span>"+allcats[x]+"</span></div>")}$(".othertech").find("input").click(function(){parseTechs(this)});$(".category").find("input").click(function(){parseCategories()})}function finalPass(){for(b=0;b<intrinsics.length;b++){c=intrinsics[b];c._text=($(c.signature).text()+"\n"+c.header+"\n"+c.instruction+"\n"+$(c.cpuid).text()+"\n"+$("<div>"+c.description+"</div>").text()).toLowerCase()}var h=getHash("text");if(h!=""){$("#search").val(h);$("#search").css("color","#000000");search_text=$("#search").val();$("#clear").show()}var a=getHash("techs");if(a!=""){_techs=a.split(",");$(".tech").each(function(){var i=$(this).attr("class").replace("tech","").replace(" ","");if($.inArray(i,_techs)>=0){$(this).find("input").each(function(){$(this).prop("checked",true)})}})}var f=getHash("avx512techs");if(f!=""){_avx512techs=f.split(",");$(".avx512tech").each(function(){var i=$(this).attr("class").replace("avx512tech","").replace(" ","");if($.inArray(i,_avx512techs)>=0){$(this).find("input").each(function(){$(this).prop("checked",true)})}})}var g=getHash("othertechs");if(g!=""){_othertechs=g.split(",");$(".othertech").each(function(){var i=$(this).attr("class").replace("othertech","").replace(" ","");if($.inArray(i,_othertechs)>=0){$(this).find("input").each(function(){$(this).prop("checked",true)})}})}parseTechs();var e=getHash("cats");if(e!=""){_cats=e.split(",");$(".category").each(function(){var i=$(this).find("span").html();if($.inArray(i,_cats)>=0){$(this).find("input").each(function(){$(this).prop("checked",true)})}})}parseCategories();var d=getHash("expand");if(d!=""){expand=d.split(",");for(var b=0;b<expand.length;b++){var c=$("#"+expand[b]);c.find(".details").slideDown(200);c.find(".instruction_note").on("mouseover",noteOver);c.find(".instruction_note").on("mouseout",noteOut)}}}$(window).load(function(){$("#other_techs").hide();$("#avx512_techs").hide();windowSize();$.ajax({url:"files/data-3.4.5.xml",crossDomain:true,success:function(b){$(".info").prepend("Data Version: "+$(b).find("intrinsics_list").attr("version")+" - <a href='files/ReleaseNotes.html' target='_blank'>Release Notes</a><br />Data Updated: "+$(b).find("intrinsics_list").attr("date")+"<br /><br />");$("#info").css("color","rgb(8,114,197)");initialPass(b)},complete:function(c,b){if(b=="success"){renderPass();finalPass()}},error:function(b,d,c){if(data_js!=""){$(".info").prepend("Offline - <a href='https://software.intel.com/sites/landingpage/IntrinsicsGuide'>Go to Online Version</a><br /><br />Data Version: "+$(data_js).attr("version")+"<br />Data Updated: "+$(data_js).attr("date")+"<br /><br />");initialPass(data_js);renderPass();finalPass();$.ajax({url:"https://software.intel.com/sites/landingpage/IntrinsicsGuide/files/data-latest.xml",success:function(e){if($(e).find("intrinsics_list").attr("version")&&$(e).find("intrinsics_list").attr("version")>$(data_js).attr("version")){$(".info").prepend("<a href='https://software.intel.com/sites/landingpage/IntrinsicsGuide'>Newer Version ("+$(e).find("intrinsics_list").attr("version")+") Available</b><br />");$("#info").css("color","rgb(197,114,8)")}}})}else{document.getElementById("intrinsics_list").innerHTML="Error Loading Data";$(".info").prepend("Error: "+d+"<br />Exception: "+c+"<br /><br />");$("#info").css("color","rgb(197,114,8)")}}});$("#info").on("mouseenter",function(){$(".popbox").hide();if(popbox_timeout){clearTimeout(popbox_timeout)}var f=$(this);var b=$(".popbox.info");var g=f.offset();var d=g.top+f.height()+5;var c=g.left+(f.width()/2)-(b.width()/2);if(c+b.width()+30>=$(window).width()){c=$(window).width()-b.width()-30}b.css({top:d+"px",left:c+"px"}).show()});$("#info").on("mouseout",function(){popbox_timeout=setTimeout(function(){$(".popbox").hide();popbox_timeout=null},300)});$("#close").click(function(){$("#about").slideUp(100);document.cookie+="about=closed;"});var a=document.cookie;if(a.indexOf("about=closed")<0){$("#about").slideDown(100)}});